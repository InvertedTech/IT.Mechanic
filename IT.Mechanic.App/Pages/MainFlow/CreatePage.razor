@page "/create"
@using IT.Mechanic.App.Services.Profiles
@inject IProfileFactory ProfileFactory
@inject NavigationManager Navigation;

<MudAppBar>
    <MudTooltip Text="Back">
        <MudIconButton Icon="@Icons.Material.Filled.ArrowBack"  @onclick="OnBackClicked"/>
    </MudTooltip>
    <MudText>Create Your Platform</MudText>
</MudAppBar>
<SiteConfigForm Factory="@ProfileFactory" Navigation="Navigation" NextRoute="@("/create/dns")"/>

@code {
    protected override void OnInitialized()
    {
        ProfileFactory.Clear();
        base.OnInitialized();
    }

    private void OnBackClicked()
    {
        Navigation.NavigateTo("/");
    }
}
